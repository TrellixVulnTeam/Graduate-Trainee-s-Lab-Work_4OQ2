<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //call back functions
      function fun1(fun) {
        console.log("Function - 1");
        fun();
      }

      function fun2() {
        console.log("Function - 2");
      }
      fun1(fun2);

      //Promises--Pending,Reject,complete
      let promise = new Promise((resolve, reject) => {
        let a = 10;
        let b = 2;
        let c = a / b;
        if (c >= 0) resolve(c);
        else reject("invalid Data");
      });
      promise
        .then((data) => console.log(data)) //fulfilled
        .catch((reason) => console.log(reason)) //rejected
        .finally(() => console.log("Finally block")); //always
      //fetch method

      let result = fetch("https://jsonplaceholder.typicode.com/posts")
        .then((response) => response.json())
        .then((json) => {
          var str = "<table border='1' cellpadding='10' cellspacing='0' >";
          str += "<tr><th>User Id</th><th>Title</th><th>Body</th></tr>";
          for (let i = 0; i < json.length; i++) {
            str += "<tr>";
            str += "<td>" + json[i].userId + "</td>";
            str += "<td>" + json[i].id + "</td>";
            str += "<td>" + json[i].title + "</td>";
            str += "<td>" + json[i].body + "</td>";
            str += "</tr>";
          }
          str += "</table>";
          document.write(str);
        })
        .catch((reason) => console.log(reason));

      //async and await

      async function loadData() {
        let result = await fetch("https://jsonplaceholder.typicode.com/posts");

        result
          .json()
          .then((json) => {
            var str = "<table border='1' cellpadding='10' cellspacing='0' >";
            str += "<tr><th>User Id</th><th>Title</th><th>Body</th></tr>";
            for (let i = 0; i < json.length; i++) {
              str += "<tr>";
              str += "<td>" + json[i].userId + "</td>";
              str += "<td>" + json[i].id + "</td>";
              str += "<td>" + json[i].title + "</td>";
              str += "<td>" + json[i].body + "</td>";
              str += "</tr>";
            }
            str += "</table>";
            document.write(str);
          })
          .catch((reason) => console.log(reason));
      }
      loadData();
    </script>
  </body>
</html>
